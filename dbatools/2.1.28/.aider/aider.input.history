
# 2024-10-28 12:25:18.759573
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:26:05.834872
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:26:24.463557
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:26:47.512310
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:27:23.315342
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:27:41.434694
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:27:58.320582
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:28:43.546306
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:29:00.841869
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:29:14.680846
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:29:36.356588
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:29:58.717101
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:30:14.427650
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:30:45.362001
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:31:01.786701
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:31:24.959113
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:31:44.140781
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:32:02.640168
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:32:12.462306
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:32:23.938111
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:32:44.730491
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:33:02.013943
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:33:32.674769
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:34:16.410937
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:34:31.351041
+Move the $expected parameter list AND the $TestConfig.CommonParameters part into the BeforeAll block, placing them after the $command assignment. Keep them within the BeforeAll block. Do not move or modify the initial $command assignment.
+
+            If you can't find the $expected parameter list, do not make any changes.
+
+            If it's already where it should be, do not make any changes.

# 2024-10-28 12:40:53.082190
+Move the `$expected` parameter list AND the `$TestConfig.CommonParameters` part into the BeforeAll block, placing them after the `$command` assignment. Keep them within the BeforeAll block. Do not move or modify the initial `$command` assignment.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:41:13.492257
+Move the `$expected` parameter list AND the `$TestConfig.CommonParameters` part into the BeforeAll block, placing them after the `$command` assignment. Keep them within the BeforeAll block. Do not move or modify the initial `$command` assignment.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:42:56.199868
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:43:24.981509
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:43:45.457482
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:44:14.925301
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:44:37.172801
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:44:54.089968
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:45:53.250457
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:46:16.585554
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:46:34.440661
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:47:30.181926
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:47:58.672376
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:48:16.096342
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:49:20.971058
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:49:48.323477
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:50:28.551670
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:50:47.404784
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:50:58.477200
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:51:08.993943
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:51:18.056265
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:51:28.294461
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:51:38.306369
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:51:52.287920
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:52:54.173167
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:53:02.309952
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 12:55:58.117177
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:22:34.755333
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:23:06.936760
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:23:36.999649
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:23:50.462876
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:24:25.374971
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:24:54.833389
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:25:16.044501
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:25:31.800351
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:25:55.204521
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:26:21.554072
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:26:42.671996
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:26:55.538823
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:27:16.109624
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:27:57.359440
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:28:20.791784
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:28:32.297030
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:29:01.583202
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:29:36.989099
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:30:32.180557
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:30:57.498414
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:31:10.045435
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:31:22.120578
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:31:38.049963
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:32:23.871837
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:32:34.651818
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:32:53.969714
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:33:16.640005
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:33:40.045669
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:33:55.354340
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:34:17.804840
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:34:50.070358
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:35:02.453320
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:35:18.618289
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:35:30.168876
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:35:54.789434
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:36:00.454617
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:36:11.753430
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:36:23.389938
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:36:35.105510
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:36:49.959417
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:37:14.021409
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:37:32.420815
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:37:46.826523
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:38:13.032218
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:38:29.552641
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:38:52.801686
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:39:09.936247
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:39:28.526020
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:39:46.811306
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:40:02.726364
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:40:16.783785
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:40:41.595540
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:40:56.469898
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:41:18.869715
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:41:50.469674
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:42:26.617134
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:43:15.677178
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:43:24.101534
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:43:46.444551
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:44:01.387237
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:44:16.477292
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:44:32.158635
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:44:46.132427
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:44:56.565965
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:45:26.223478
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:45:59.814519
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:46:11.177429
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:46:46.487078
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:46:58.121448
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:47:09.130655
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:47:25.910351
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-10-28 13:47:41.745995
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-11-01 11:43:40.142091
+Move the `$expected` parameter list AND the `$command` setting into the BeforeAll block immediately under Describe.
+
+            If you cannot find the $expected` parameter list, do not make any changes.
+
+            BAD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                Context "Parameter validation" {
+                    BeforeAll {
+                        $command = Get-Command Backup-DbaDbMasterKey
+                        $expected = $TestConfig.CommonParameters
+                        $expected += @(
+                            "SqlInstance",
+                            "SqlCredential",
+                            "Credential",
+                            "Database",
+                            "ExcludeDatabase",
+                            "SecurePassword",
+                            "Path",
+                            "InputObject",
+                            "EnableException",
+                            "WhatIf",
+                            "Confirm"
+                        )
+                    }
+
+            GOOD:
+            Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+                BeforeAll {
+                    $command = Get-Command Backup-DbaDbMasterKey
+                    $expected = $TestConfig.CommonParameters
+                    $expected += @(
+                        "SqlInstance",
+                        "SqlCredential",
+                        "Credential",
+                        "Database",
+                        "ExcludeDatabase",
+                        "SecurePassword",
+                        "Path",
+                        "InputObject",
+                        "EnableException",
+                        "WhatIf",
+                        "Confirm"
+                    )
+                }
+                Context "Parameter validation" {

# 2024-11-01 11:57:32.714972
+## Core Requirements
+                ```powershell
+                #Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+                param(
+                    $ModuleName = "dbatools",
+                    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+                )
+                ```
+                These lines must start every test file.

# 2024-11-01 12:10:37.339778
+## Core Requirements
+                ```powershell
+                #Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+                param(
+                    $ModuleName = "dbatools",
+                    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+                )
+                ```
+                These lines must start every test file.

# 2024-11-01 12:13:23.560977
+Remove this line: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")

# 2024-11-01 12:15:18.697863
+Remove this line: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")
+                                  Remove this line: $global:TestConfig = Get-TestConfig

# 2024-11-01 12:17:05.089382
+Remove these lines: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")
+                                                      $global:TestConfig = Get-TestConfig
+                                                      
+                                DO NOT COMMENT THEM OUT. Remove them entirely.

# 2024-11-01 12:17:53.520686
+Remove these lines: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")
+                                                      $global:TestConfig = Get-TestConfig
+                                                      
+                                DO NOT COMMENT THEM OUT. Remove them entirely.

# 2024-11-01 12:19:26.219132
+Remove these lines: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")
+                                                      $global:TestConfig = Get-TestConfig
+
+                                DO NOT COMMENT THEM OUT. Remove them entirely.
+                                If you cannot find any matches, quit.

# 2024-11-01 12:20:15.295830
+Remove these lines: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")
+                                                      $global:TestConfig = Get-TestConfig
+
+                                DO NOT COMMENT THEM OUT. Remove them entirely.
+                                If you cannot find any matches, quit.

# 2024-11-01 12:21:30.260507
+Remove these lines: $CommandName = $MyInvocation.MyCommand.Name.Replace(".Tests.ps1", "")
+                                                      $global:TestConfig = Get-TestConfig
+
+                                DO NOT COMMENT THEM OUT. Remove them entirely.
+                                If you cannot find any matches, quit.

# 2024-11-02 13:48:08.064162
+# Ensures Describe blocks have correct command names and tags.
+Get-ChildItem -Path . -Filter "*.ps1" | ForEach-Object {
+    (Get-Content -Path $_.FullName) -replace "(Describe.*?-Tag \".*?\")", "`$&" | 
+    ForEach-Object {
+        if ($_ -match "^Describe \"(.*)\"") {
+            $describeCmd = $Matches[1]
+            if ($_ -notmatch "\-Tag") {
+                $_ += " -Tag \"UnitTests\""
+            }
+        }
+        $_
+    } | Set-Content -Path $_.FullName
+}

# 2024-11-02 13:48:32.643730
+# Places setup and cleanup code into `BeforeAll`, `BeforeEach`, `AfterAll`, and `AfterEach` blocks.
+Get-ChildItem -Path . -Filter "*.ps1" | ForEach-Object {
+    $content = Get-Content -Path $_.FullName
+    $newContent = $content -replace "(Describe.*?{)(.*)", "`$1 `n `t `n BeforeAll { `n `t `$2 `n }"
+    Set-Content -Path $_.FullName -Value $newContent
+}

# 2024-11-02 13:49:03.854877
+# Applies coding style changes, including double quotes and array declarations.
+Get-ChildItem -Path . -Filter "*.ps1" | ForEach-Object {
+    $content = Get-Content -Path $_.FullName
+    $content -replace "\'(.+?)\'", "\"$1\"" |
+    ForEach-Object { $_ -replace "@\(", "@(`n`t" } |
+    ForEach-Object { $_ -replace "\}", "`n`t}" } |
+    ForEach-Object {
+        if ($_ -match "\$script:") {
+            $_ -replace "\$script:", "$global:"
+        } else { $_ }
+    } | Set-Content -Path $_.FullName
+}

# 2024-11-02 13:49:46.180201
+# Updates parameter and variable naming, enforcing splat with purpose suffixes.
+Get-ChildItem -Path . -Filter "*.ps1" | ForEach-Object {
+    $content = Get-Content -Path $_.FullName
+    $content -replace "\$splat\s*=", "$splatPurpose" |
+    ForEach-Object { $_ -replace "\$splat\s*=\s*@(.*)", "$splatPurpose = @( $1 )" } |
+    Set-Content -Path $_.FullName
+}

# 2024-11-02 13:50:51.779119
+# Performs syntax refinement, such as replacing $_ with $PSItem and removing trailing spaces.
+Get-ChildItem -Path . -Filter "*.ps1" | ForEach-Object {
+    $content = Get-Content -Path $_.FullName
+    $content -replace "\$_", "$PSItem" |
+    ForEach-Object { $_ -replace "\s+$", "" } |
+    ForEach-Object {
+        if ($_ -match "\$MyInvocation\.MyCommand\.Name") {
+            $_ -replace "\$MyInvocation\.MyCommand\.Name", "$commandName"
+        } else { $_ }
+    } | Set-Content -Path $_.FullName
+}

# 2024-11-02 15:09:08.221000
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 15:09:17.639346
+### Parameter & Variable Naming Rules
+- Use direct parameters for 1-2 parameters
+- Use `$splat<Purpose>` for 3+ parameters (never plain `$splat`)
+
+```powershell
+# Direct parameters
+$ag = Get-DbaLogin -SqlInstance $instance -Login $loginName
+
+# Splat with purpose suffix
+$splatPrimary = @{
+    Primary         = $TestConfig.instance3
+    Name            = $primaryAgName
+    ClusterType     = "None"
+    FailoverMode    = "Manual"
+    Certificate     = "dbatoolsci_AGCert"
+    Confirm         = $false
+}
+$primaryAg = New-DbaAvailabilityGroup @splatPrimary
+```

# 2024-11-02 15:10:46.819061
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 15:10:54.496118
+### Parameter & Variable Naming Rules
+- Use direct parameters for 1-2 parameters
+- Use `$splat<Purpose>` for 3+ parameters (never plain `$splat`)
+
+```powershell
+# Direct parameters
+$ag = Get-DbaLogin -SqlInstance $instance -Login $loginName
+
+# Splat with purpose suffix
+$splatPrimary = @{
+    Primary         = $TestConfig.instance3
+    Name            = $primaryAgName
+    ClusterType     = "None"
+    FailoverMode    = "Manual"
+    Certificate     = "dbatoolsci_AGCert"
+    Confirm         = $false
+}
+$primaryAg = New-DbaAvailabilityGroup @splatPrimary
+```

# 2024-11-02 15:11:19.853523
+The parameter test should look like this:
+
+Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Backup-DbaDbMasterKey
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "WhatIf",
+            "Confirm"
+        )
+    }
+    Context "Parameter validation" {...
+
+But with these parameters:
+
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 15:11:34.207864
+### Context Blocks
+- Describe specific scenarios or states
+- Use clear, descriptive names that explain the test scenario
+- Example: "When getting all databases", "When database is offline"

# 2024-11-02 15:12:04.954816
+### Describe Blocks
+- Name your Describe blocks with static command names from the primary command being tested
+- Include appropriate tags (`-Tag "UnitTests"` or `-Tag "IntegrationTests"`)
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    # tests here
+}
+```

# 2024-11-02 15:12:13.633783
+### Test Structure
+- Parameter validation must be tagged as Unit Test
+- No loose code outside of proper test blocks
+- Must maintain all instance reference comments (#TestConfig.instance3, etc.)

# 2024-11-02 15:12:51.305578
+## Style Guidelines
+- Use double quotes for strings (we're a SQL Server module)
+- Array declarations should be on multiple lines:
+```powershell
+$array = @(
+    "Item1",
+    "Item2",
+    "Item3"
+)
+```
+- Skip conditions must evaluate to `$true` or `$false`, not strings
+- Use `$global:` instead of `$script:` for test configuration variables when required for Pester v5 scoping
+- Avoid script blocks in Where-Object when possible:
+```powershell
+# Good - direct property comparison
+$master = $databases | Where-Object Name -eq "master"
+$systemDbs = $databases | Where-Object Name -in "master", "model", "msdb", "tempdb"
+
+# Required - script block for Parameters.Keys
+$newParameters = $command.Parameters.Values.Name | Where-Object { $PSItem -notin "WhatIf", "Confirm" }
+```

# 2024-11-02 15:16:37.095048
+### Syntax Requirements
+- Use $PSItem instead of $_
+- No trailing spaces
+- Use $results.Status.Count for accurate counting

# 2024-11-02 15:20:36.808629
+### Test Code Placement
+- All setup code goes in `BeforeAll` or `BeforeEach` blocks
+- All cleanup code goes in `AfterAll` or `AfterEach` blocks
+- All test assertions go in `It` blocks
+- No loose code in `Describe` or `Context` blocks

# 2024-11-02 15:28:47.887379
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 15:31:19.772358
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 15:32:21.865495
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 15:33:22.329118
+### Parameter & Variable Naming Rules
+- Use direct parameters for 1-2 parameters
+- Use `$splat<Purpose>` for 3+ parameters (never plain `$splat`)
+
+```powershell
+# Direct parameters
+$ag = Get-DbaLogin -SqlInstance $instance -Login $loginName
+
+# Splat with purpose suffix
+$splatPrimary = @{
+    Primary         = $TestConfig.instance3
+    Name            = $primaryAgName
+    ClusterType     = "None"
+    FailoverMode    = "Manual"
+    Certificate     = "dbatoolsci_AGCert"
+    Confirm         = $false
+}
+$primaryAg = New-DbaAvailabilityGroup @splatPrimary
+```

# 2024-11-02 15:34:26.539627
+The parameter test should look like this:
+
+Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Backup-DbaDbMasterKey
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "WhatIf",
+            "Confirm"
+        )
+    }
+    Context "Parameter validation" {...
+
+But with these parameters:
+
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 15:35:31.388279
+### Context Blocks
+- Describe specific scenarios or states
+- Use clear, descriptive names that explain the test scenario
+- Example: "When getting all databases", "When database is offline"

# 2024-11-02 15:36:44.154962
+### Describe Blocks
+- Name your Describe blocks with static command names from the primary command being tested
+- Include appropriate tags (`-Tag "UnitTests"` or `-Tag "IntegrationTests"`)
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    # tests here
+}
+```

# 2024-11-02 15:37:50.328663
+### Test Structure
+- Parameter validation must be tagged as Unit Test
+- No loose code outside of proper test blocks
+- Must maintain all instance reference comments (#TestConfig.instance3, etc.)

# 2024-11-02 15:38:55.107110
+## Style Guidelines
+- Use double quotes for strings (we're a SQL Server module)
+- Array declarations should be on multiple lines:
+```powershell
+$array = @(
+    "Item1",
+    "Item2",
+    "Item3"
+)
+```
+- Skip conditions must evaluate to `$true` or `$false`, not strings
+- Use `$global:` instead of `$script:` for test configuration variables when required for Pester v5 scoping
+- Avoid script blocks in Where-Object when possible:
+```powershell
+# Good - direct property comparison
+$master = $databases | Where-Object Name -eq "master"
+$systemDbs = $databases | Where-Object Name -in "master", "model", "msdb", "tempdb"
+
+# Required - script block for Parameters.Keys
+$newParameters = $command.Parameters.Values.Name | Where-Object { $PSItem -notin "WhatIf", "Confirm" }
+```

# 2024-11-02 15:40:03.220807
+### Syntax Requirements
+- Use $PSItem instead of $_
+- No trailing spaces
+- Use $results.Status.Count for accurate counting

# 2024-11-02 15:41:07.519244
+### Test Code Placement
+- All setup code goes in `BeforeAll` or `BeforeEach` blocks
+- All cleanup code goes in `AfterAll` or `AfterEach` blocks
+- All test assertions go in `It` blocks
+- No loose code in `Describe` or `Context` blocks

# 2024-11-02 16:23:22.360597
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 16:25:24.937665
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 16:26:45.059888
+### Parameter & Variable Naming Rules
+- Use direct parameters for 1-2 parameters
+- Use `$splat<Purpose>` for 3+ parameters (never plain `$splat`)
+
+```powershell
+# Direct parameters
+$ag = Get-DbaLogin -SqlInstance $instance -Login $loginName
+
+# Splat with purpose suffix
+$splatPrimary = @{
+    Primary         = $TestConfig.instance3
+    Name            = $primaryAgName
+    ClusterType     = "None"
+    FailoverMode    = "Manual"
+    Certificate     = "dbatoolsci_AGCert"
+    Confirm         = $false
+}
+$primaryAg = New-DbaAvailabilityGroup @splatPrimary
+```

# 2024-11-02 18:56:41.911137
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 18:57:53.609469
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 18:59:21.176589
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:00:54.843368
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:02:38.870937
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:06:21.444884
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:07:24.166300
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:17:06.260756
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:17:22.781656
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 19:19:27.570051
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 20:16:50.019393
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 20:28:16.006041
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Reset-DbaAdmin.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Reset-DbaAdmin
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Login
+SecurePassword
+Force
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-02 20:34:51.490398
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($global:TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 20:36:11.462699
+The parameter test should look like this:
+
+Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Backup-DbaDbMasterKey
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "WhatIf",
+            "Confirm"
+        )
+    }
+    Context "Parameter validation" {...
+
+But with these parameters:
+
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 20:37:28.577055
+### Parameter & Variable Naming Rules
+- Use direct parameters for 1-2 parameters
+- Use `$splat<Purpose>` for 3+ parameters (never plain `$splat`)
+
+```powershell
+# Direct parameters
+$ag = Get-DbaLogin -SqlInstance $instance -Login $loginName
+
+# Splat with purpose suffix
+$splatPrimary = @{
+    Primary         = $TestConfig.instance3
+    Name            = $primaryAgName
+    ClusterType     = "None"
+    FailoverMode    = "Manual"
+    Certificate     = "dbatoolsci_AGCert"
+    Confirm         = $false
+}
+$primaryAg = New-DbaAvailabilityGroup @splatPrimary
+```

# 2024-11-02 20:38:51.852912
+### Context Blocks
+- Describe specific scenarios or states
+- Use clear, descriptive names that explain the test scenario
+- Example: "When getting all databases", "When database is offline"

# 2024-11-02 20:40:14.525017
+### Describe Blocks
+- Name your Describe blocks with static command names from the primary command being tested
+- Include appropriate tags (`-Tag "UnitTests"` or `-Tag "IntegrationTests"`)
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    # tests here
+}
+```

# 2024-11-02 20:43:34.686894
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($global:TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 20:44:56.320680
+The parameter test should look like this:
+
+Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Backup-DbaDbMasterKey
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "WhatIf",
+            "Confirm"
+        )
+    }
+    Context "Parameter validation" {...
+
+But with these parameters:
+
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 20:45:28.812424
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($global:TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 20:45:37.713676
+The parameter test should look like this:
+
+Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Backup-DbaDbMasterKey
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "WhatIf",
+            "Confirm"
+        )
+    }
+    Context "Parameter validation" {...
+
+But with these parameters:
+
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 20:46:23.341588
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($global:TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 20:47:46.719162
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($global:TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 20:48:26.782183
+## Core Requirements
+```powershell
+#Requires -Module @{ ModuleName="Pester"; ModuleVersion="5.0"}
+param(
+    $ModuleName = "dbatools",
+    $PSDefaultParameterValues = ($global:TestConfig = Get-TestConfig).Defaults
+)
+```
+These lines must start every test file.

# 2024-11-02 20:48:36.345865
+The parameter test should look like this:
+
+Describe "Backup-DbaDbMasterKey" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Backup-DbaDbMasterKey
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "WhatIf",
+            "Confirm"
+        )
+    }
+    Context "Parameter validation" {...
+
+But with these parameters:
+
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 20:48:43.939561
+### Parameter & Variable Naming Rules
+- Use direct parameters for 1-2 parameters
+- Use `$splat<Purpose>` for 3+ parameters (never plain `$splat`)
+
+```powershell
+# Direct parameters
+$ag = Get-DbaLogin -SqlInstance $instance -Login $loginName
+
+# Splat with purpose suffix
+$splatPrimary = @{
+    Primary         = $TestConfig.instance3
+    Name            = $primaryAgName
+    ClusterType     = "None"
+    FailoverMode    = "Manual"
+    Certificate     = "dbatoolsci_AGCert"
+    Confirm         = $false
+}
+$primaryAg = New-DbaAvailabilityGroup @splatPrimary
+```

# 2024-11-02 20:48:57.390258
+### Context Blocks
+- Describe specific scenarios or states
+- Use clear, descriptive names that explain the test scenario
+- Example: "When getting all databases", "When database is offline"

# 2024-11-02 20:59:29.873383
+### Good Parameter Test
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 21:05:06.190783
+### Good Parameter Test
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 21:09:38.829687
+### Good Parameter Test
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 21:10:55.676897
+### Good Parameter Test
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 21:11:09.702488
+### Good Parameter Test
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 21:16:18.965644
+### Good Parameter Test
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-02 21:19:26.230275
+The command's test should look like this:
+
+```powershell
+Describe "Get-DbaDatabase" -Tag "UnitTests" {
+    BeforeAll {
+        $command = Get-Command Get-DbaDatabase
+        $expected = $TestConfig.CommonParameters
+        $expected += @(
+            "SqlInstance",
+            "SqlCredential",
+            "Database
+        )
+    }
+    Context "Parameter validation" {
+        It "Has parameter: <_>" -ForEach $expected {
+            $command | Should -HaveParameter $PSItem
+        }
+
+        It "Should have exactly the number of expected parameters ($($expected.Count))" {
+            $hasparms = $command.Parameters.Values.Name
+            Compare-Object -ReferenceObject $expected -DifferenceObject $hasparms | Should -BeNullOrEmpty
+        }
+    }
+}
+```
+
+But with these parameters:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Path
+FilePath
+IncrementPrefix
+ReplaceInName
+NoAppendDbNameInPath
+CopyOnly
+Type
+InputObject
+CreateFolder
+FileCount
+CompressBackup
+Checksum
+Verify
+MaxTransferSize
+BlockSize
+BufferCount
+AzureBaseUrl
+AzureCredential
+NoRecovery
+BuildPath
+WithFormat
+Initialize
+SkipTapeHeader
+TimeStampFormat
+IgnoreFileChecks
+OutputScriptOnly
+EncryptionAlgorithm
+EncryptionCertificate
+Description
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm

# 2024-11-05 20:12:58.746814
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Find-DbaAgentJob.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Find-DbaAgentJob
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+JobName
+ExcludeJobName
+StepName
+LastUsed
+IsDisabled
+IsFailed
+IsNotScheduled
+IsNoEmailNotification
+Category
+Owner
+Since
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:13:47.781144
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Get-DbaAgentJob.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Get-DbaAgentJob
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Job
+ExcludeJob
+Database
+Category
+ExcludeCategory
+ExcludeDisabledJobs
+IncludeExecution
+Type
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:14:36.401650
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Get-DbaDbCompression.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Get-DbaDbCompression
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Table
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:15:05.300475
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Export-DbaRegServer.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Export-DbaRegServer
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+InputObject
+Path
+FilePath
+CredentialPersistenceType
+Group
+ExcludeGroup
+Overwrite
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:15:59.144239
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Export-DbaScript.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Export-DbaScript
+
+Parameters for this command:
+InputObject
+ScriptingOptionsObject
+Path
+FilePath
+Encoding
+BatchSeparator
+NoPrefix
+Passthru
+NoClobber
+Append
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+WhatIf
+Confirm
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:16:25.520203
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Find-DbaDbUnusedIndex.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Find-DbaDbUnusedIndex
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+IgnoreUptime
+Seeks
+Scans
+Lookups
+InputObject
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:17:02.072473
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Find-DbaStoredProcedure.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Find-DbaStoredProcedure
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Pattern
+IncludeSystemObjects
+IncludeSystemDatabases
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:17:34.899175
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Find-DbaTrigger.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Find-DbaTrigger
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Pattern
+TriggerLevel
+IncludeSystemObjects
+IncludeSystemDatabases
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:18:16.360582
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Find-DbaView.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Find-DbaView
+
+Parameters for this command:
+SqlInstance
+SqlCredential
+Database
+ExcludeDatabase
+Pattern
+IncludeSystemObjects
+IncludeSystemDatabases
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:18:47.937790
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Find-DbaBackup.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Find-DbaBackup
+
+Parameters for this command:
+Path
+BackupFileExtension
+RetentionPeriod
+CheckArchiveBit
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.

# 2024-11-05 20:19:39.379158
+# Pester v4 to v5 Migration
+
+You are an AI assistant created by Anthropic to help migrate Pester tests for the **dbatools PowerShell module** from version 4 to version 5. Analyze and update the file `/workspace/tests/Get-DbaComputerCertificate.Tests.ps1` according to the instructions in conventions.md.
+
+Command name:
+Get-DbaComputerCertificate
+
+Parameters for this command:
+ComputerName
+Credential
+Store
+Folder
+Type
+Path
+Thumbprint
+EnableException
+Verbose
+Debug
+ErrorAction
+WarningAction
+InformationAction
+ProgressAction
+ErrorVariable
+WarningVariable
+InformationVariable
+OutVariable
+OutBuffer
+PipelineVariable
+
+Before responding, verify that your answer adheres to the specified coding and migration guidelines.
